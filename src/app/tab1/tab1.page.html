<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title class="ion-text-center">
      <span style="color: var(--ion-color-primary);">Eras</span>
      <span style="color: var(--ion-color-secondary);">more</span></ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-padding">

  <div class="stage-wrapper" [class.collapsed]="isCollapsed">
  <div class="stage-container" [class.collapsed]="isCollapsed">
    
      <ion-button class="stage-button" [color]="selectedStage === 1 ? 'secondary' : 'primary'" shape="round" [class.active]="selectedStage === 1" style="top:  30px;  left: -50px;" (click)="onStageClick(1)">
        <ion-icon aria-hidden="true" name="move-outline"></ion-icon>
        <p class="stage-button-text">&nbsp;{{getStageName(1)}}</p>
        <ion-icon *ngIf="isStageCompleted(1)" name="checkmark-circle" slot="start"></ion-icon></ion-button>

        <svg class="path" width="200" height="200" xmlns="http://www.w3.org/2000/svg">
          <line x1="25" y1="50" x2="125" y2="175"
                stroke="var(--ion-color-secondary)"
                stroke-width="2"
                stroke-dasharray="4,4"/>
        </svg>

      <ion-button class="stage-button" [color]="selectedStage === 2 ? 'secondary' : 'primary'" shape="round" [class.active]="selectedStage === 2" style="top: 150px; left:  50px;" (click)="onStageClick(2)">
        <ion-icon aria-hidden="true" name="earth-outline"></ion-icon>
        <p class="stage-button-text">&nbsp;{{getStageName(2)}}</p>
        <ion-icon *ngIf="isStageCompleted(2)" name="checkmark-circle" slot="start"></ion-icon></ion-button>

        <svg class="path" width="100" height="100" xmlns="http://www.w3.org/2000/svg">
          <line x1="100" y1="0" x2="0" y2="100"
                stroke="var(--ion-color-secondary)"
                stroke-width="2"
                stroke-dasharray="4,4"/>
        </svg>

      <ion-button class="stage-button" [color]="selectedStage === 3 ? 'secondary' : 'primary'" shape="round" [class.active]="selectedStage === 3" style="top: 270px; left: -50px;" (click)="onStageClick(3)">
        <ion-icon aria-hidden="true" name="key-outline"></ion-icon>
        <p class="stage-button-text">&nbsp;{{getStageName(3)}}</p>
        <ion-icon *ngIf="isStageCompleted(3)" name="checkmark-circle" slot="start"></ion-icon></ion-button>

        <svg class="path" width="200" height="100" xmlns="http://www.w3.org/2000/svg">
          <line x1="25" y1="0" x2="125" y2="100"
                stroke="var(--ion-color-secondary)"
                stroke-width="2"
                stroke-dasharray="4,4"/>
        </svg>

      <ion-button class="stage-button" [color]="selectedStage === 4 ? 'secondary' : 'primary'" shape="round" [class.active]="selectedStage === 4" style="top: 390px; left:  50px;" (click)="onStageClick(4)">
        <ion-icon aria-hidden="true" name="location-outline"></ion-icon>
        <p class="stage-button-text">&nbsp;{{getStageName(4)}}</p>
        <ion-icon *ngIf="isStageCompleted(4)" name="checkmark-circle" slot="start"></ion-icon></ion-button>

        <svg class="path" width="200" height="200" xmlns="http://www.w3.org/2000/svg">
          <line x1="150" y1="0" x2="25" y2="100"
                stroke="var(--ion-color-secondary)"
                stroke-width="2"
                stroke-dasharray="4,4"/>
        </svg>

      <ion-button class="stage-button" [color]="selectedStage === 5 ? 'secondary' : 'primary'" shape="round" [class.active]="selectedStage === 5" style="top: 510px; left: -50px;" (click)="onStageClick(5)">
        <ion-icon aria-hidden="true" name="book-outline"></ion-icon>
        <p class="stage-button-text">&nbsp;{{getStageName(5)}}</p>
        <ion-icon *ngIf="isStageCompleted(5)" name="checkmark-circle" slot="start"></ion-icon></ion-button>

  </div>
</div>

  <ion-card id="checklist" class="checklist" [class.collapsed]="isCollapsed" *ngIf="selectedStage && isCollapsed">
    <app-checklist
    *ngFor="let item of checklist"
    [checklistItem]="item"
    [checked]="isChecked(item.id)"
    (checkboxChange)="onCheckboxChange($event)"
  ></app-checklist></ion-card>
</ion-content>